(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(95155);r(12115);var a=r(32467),d=r(83101),i=r(64269);let l=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function n(e){let{className:t,variant:r,size:d,asChild:n=!1,...o}=e,c=n?a.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:d,className:t})),...o})}},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(95155);r(12115);var a=r(32467),d=r(83101),i=r(64269);let l=(0,d.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:r,asChild:d=!1,...n}=e,o=d?a.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:r}),t),...n})}},26307:(e,t,r)=>{Promise.resolve().then(r.bind(r,46220))},46220:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95155),a=r(12115),d=r(20063),i=r(86948),l=r(3998),n=r(21873),o=r(24947),c=r(91169),x=r(85149);let u=()=>{let e=(0,d.useRouter)(),[t,r]=(0,a.useState)(!0),[u,h]=(0,a.useState)([]),[m,g]=(0,a.useState)({totalVehicles:0,totalUsers:0,totalLocations:0,totalOwners:0}),[v,b]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{r(!0),b(null);let e=await fetch("/api/dashboard/stats"),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to fetch dashboard data");if(t.success){let{overview:e,recent:r}=t.data;g({totalVehicles:e.totalVehicles,totalUsers:e.totalUsers,totalLocations:e.totalLocations,totalOwners:e.totalOwners}),h(r.recentVehicles)}else throw Error("Failed to fetch dashboard data")}catch(e){console.error("Error fetching dashboard data:",e),b(e instanceof Error?e.message:"Failed to load dashboard data")}finally{r(!1)}})()},[]),u.slice(0,5),t)?(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",children:"Loading admin dashboard..."})]})})}):v?(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"text-red-500 text-lg font-semibold",children:"Error Loading Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:v}),(0,s.jsx)(l.$,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Retry"})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-lg",children:"Manage vehicles, users, and locations across the system"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"System Overview"})]})]})}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"System Overview"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Key metrics and recent activity"})]})})}),(0,s.jsxs)(i.Wu,{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-950/50 rounded-lg border border-blue-200 dark:border-blue-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:(null==m?void 0:m.totalVehicles)||0}),(0,s.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Total Vehicles"}),(0,s.jsx)("div",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:"In the system"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950/50 rounded-lg border border-green-200 dark:border-green-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:(null==m?void 0:m.totalUsers)||0}),(0,s.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Total Users"}),(0,s.jsx)("div",{className:"text-xs text-green-500 dark:text-green-400 mt-1",children:"Registered users"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-950/50 rounded-lg border border-purple-200 dark:border-purple-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:(null==m?void 0:m.totalLocations)||0}),(0,s.jsx)("div",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Locations"}),(0,s.jsx)("div",{className:"text-xs text-purple-500 dark:text-purple-400 mt-1",children:"Ports & facilities"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-950/50 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300",children:(null==m?void 0:m.totalOwners)||0}),(0,s.jsx)("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"Owners"}),(0,s.jsx)("div",{className:"text-xs text-yellow-500 dark:text-yellow-400 mt-1",children:"Vehicle owners"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(l.$,{onClick:()=>e.push("/admin/vehicles"),variant:"outline",className:"h-auto p-6 flex flex-col items-center gap-3 hover:bg-blue-50 hover:border-blue-200 dark:hover:bg-blue-950/50 dark:hover:border-blue-700",children:[(0,s.jsx)(o.A,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Manage Vehicles"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"View, edit, and manage all vehicles"})]})]}),(0,s.jsxs)(l.$,{onClick:()=>e.push("/admin/users"),variant:"outline",className:"h-auto p-6 flex flex-col items-center gap-3 hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-950/50 dark:hover:border-green-700",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Manage Users"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Create and manage user accounts"})]})]}),(0,s.jsxs)(l.$,{onClick:()=>e.push("/admin/locations"),variant:"outline",className:"h-auto p-6 flex flex-col items-center gap-3 hover:bg-purple-50 hover:border-purple-200 dark:hover:bg-purple-950/50 dark:hover:border-purple-700",children:[(0,s.jsx)(n.A,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Manage Locations"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Configure ports, warehouses, and facilities"})]})]})]})]}),(0,s.jsx)(x.A,{showFilters:!1,showViewToggle:!1,showAddButton:!1,showSelection:!1,onVehicleClick:t=>e.push("/admin/vehicles/".concat(t)),title:"Recent Vehicles",subtitle:"Latest vehicles in the system"})]})]})]})})}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>d});var s=r(2821),a=r(75889);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>n,Wu:()=>o,ZB:()=>l,Zp:()=>d,aR:()=>i});var s=r(95155);r(12115);var a=r(64269);function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}}},e=>{e.O(0,[5239,3637,4127,2673,3437,5815,5149,8441,1255,7358],()=>e(e.s=26307)),_N_E=e.O()}]);