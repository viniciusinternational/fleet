(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3761],{21256:(e,t,r)=>{Promise.resolve().then(r.bind(r,72384)),Promise.resolve().then(r.bind(r,27712)),Promise.resolve().then(r.bind(r,44557)),Promise.resolve().then(r.bind(r,95111)),Promise.resolve().then(r.bind(r,60933))},21873:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},26617:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},26983:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},27712:(e,t,r)=>{"use strict";r.d(t,{LocationTable:()=>w});var a=r(95155),s=r(12115),l=r(20063),n=r(11647),d=r(87270),c=r(80197),i=r(46994),o=r(71871),h=r(46398),u=r(26617),x=r(21873),p=r(42529),m=r(52056),y=r(53842),g=r(26983),j=r(91169),b=r(22668),k=r(3998),v=r(51834);function f(e){let{locationId:t,isOpen:r,onClose:n}=e,d=(0,l.useRouter)(),[c,i]=(0,s.useState)(!1),o=async()=>{if(t){i(!0);try{let e=await fetch("/api/locations/".concat(t),{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete location")}n(),d.refresh()}catch(e){console.error("Failed to delete location:",e)}finally{i(!1)}}};return(0,a.jsx)(v.lG,{open:r,onOpenChange:n,children:(0,a.jsxs)(v.Cf,{children:[(0,a.jsx)(v.c7,{children:(0,a.jsx)(v.L3,{children:"Delete Location"})}),(0,a.jsx)("p",{children:"Are you sure you want to delete this location? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(k.$,{variant:"outline",onClick:n,disabled:c,children:"Cancel"}),(0,a.jsx)(k.$,{variant:"destructive",onClick:o,disabled:c,children:c?"Deleting...":"Delete"})]})]})})}function w(e){let{locations:t,users:r,sortBy:k,sortOrder:v}=e,w=(0,l.useRouter)(),[N,A]=(0,s.useState)(!1),[M,C]=(0,s.useState)(null),S=e=>e.address?{street:e.address.street||"",city:e.address.city||"",state:e.address.state||"",country:e.address.country||"",postalCode:e.address.postalCode||""}:{street:e.street||"",city:e.city||"",state:e.state||"",country:e.country||"",postalCode:e.postalCode||""},P=e=>{switch(e){case"Port":return(0,a.jsx)(c.A,{className:"h-4 w-4"});case"Warehouse":return(0,a.jsx)(i.A,{className:"h-4 w-4"});case"Customs Office":return(0,a.jsx)(o.A,{className:"h-4 w-4"});case"Dealership":return(0,a.jsx)(h.A,{className:"h-4 w-4"});case"Delivery Point":return(0,a.jsx)(u.A,{className:"h-4 w-4"});default:return(0,a.jsx)(x.A,{className:"h-4 w-4"})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-md border overflow-x-auto",children:(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{className:"bg-muted/50",children:[(0,a.jsx)(b.y,{field:"name",currentSortBy:k,currentSortOrder:v,className:"min-w-[200px]",children:"Location"}),(0,a.jsx)(b.y,{field:"type",currentSortBy:k,currentSortOrder:v,className:"min-w-[140px] hidden md:table-cell",children:"Type"}),(0,a.jsx)(d.nd,{className:"px-3 py-3 min-w-[100px]",children:"Status"}),(0,a.jsx)(d.nd,{className:"px-3 py-3 min-w-[120px] hidden lg:table-cell",children:"Address"}),(0,a.jsx)(d.nd,{className:"px-3 py-3 min-w-[100px] hidden xl:table-cell",children:"Users"}),(0,a.jsx)(d.nd,{className:"px-3 py-3 min-w-[100px] hidden xl:table-cell",children:"Updated"})]})}),(0,a.jsx)(d.BF,{children:t.map(e=>{let t,s;return(0,a.jsxs)(d.Hj,{className:"hover:bg-muted/50 cursor-pointer group",onClick:()=>{var t;return t=e.id,void w.push("/admin/locations/".concat(t))},children:[(0,a.jsx)(d.nA,{className:"px-3 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:P(e.type)}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground hidden sm:block",children:[S(e).city,", ",S(e).country]})]})]})}),(0,a.jsx)(d.nA,{className:"px-3 py-3 hidden md:table-cell",children:(0,a.jsxs)(n.E,{variant:"outline",className:"".concat((e=>{switch(e){case"Port":return"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 border-blue-200 dark:from-blue-950 dark:to-blue-900 dark:text-blue-300 dark:border-blue-700";case"Warehouse":return"bg-gradient-to-r from-green-50 to-green-100 text-green-700 border-green-200 dark:from-green-950 dark:to-green-900 dark:text-green-300 dark:border-green-700";case"Customs Office":return"bg-gradient-to-r from-purple-50 to-purple-100 text-purple-700 border-purple-200 dark:from-purple-950 dark:to-purple-900 dark:text-purple-300 dark:border-purple-700";case"Dealership":return"bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border-orange-200 dark:from-orange-950 dark:to-orange-900 dark:text-orange-300 dark:border-orange-700";default:return"bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 border-gray-200 dark:from-gray-950 dark:to-gray-900 dark:text-gray-300 dark:border-gray-700"}})(e.type)," text-xs px-2 py-1"),children:[P(e.type),(0,a.jsx)("span",{className:"ml-1",children:e.type})]})}),(0,a.jsx)(d.nA,{className:"px-3 py-3",children:(0,a.jsxs)(n.E,{variant:"outline",className:"".concat((e=>{switch(e){case"Operational":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-950 dark:text-green-300 dark:border-green-700";case"Temporarily Closed":return"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-950 dark:text-yellow-300 dark:border-yellow-700";case"Under Maintenance":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-950 dark:text-blue-300 dark:border-blue-700";default:return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-950 dark:text-gray-300 dark:border-gray-700"}})(e.status)," text-xs px-2 py-1"),children:[(e=>{switch(e){case"Operational":return(0,a.jsx)(p.A,{className:"h-3 w-3"});case"Temporarily Closed":return(0,a.jsx)(m.A,{className:"h-3 w-3"});case"Under Maintenance":return(0,a.jsx)(y.A,{className:"h-3 w-3"});default:return(0,a.jsx)(g.A,{className:"h-3 w-3"})}})(e.status),(0,a.jsx)("span",{className:"ml-1",children:e.status})]})}),(0,a.jsx)(d.nA,{className:"px-3 py-3 hidden lg:table-cell",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:S(e).street}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[S(e).city,", ",S(e).state]})]})}),(0,a.jsx)(d.nA,{className:"px-3 py-3 hidden xl:table-cell",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(t=e.id,r.filter(e=>e.location.id===t).length)})]})}),(0,a.jsx)(d.nA,{className:"px-3 py-3 hidden xl:table-cell",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(s=e.lastUpdated,new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(s)))})})]},e.id)})})]})}),(0,a.jsx)(f,{locationId:M,isOpen:N,onClose:()=>{A(!1),C(null)}})]})}},44557:(e,t,r)=>{"use strict";r.d(t,{SearchInput:()=>c});var a=r(95155),s=r(12115),l=r(20063),n=r(65142),d=r(86651);function c(e){let{initialValue:t=""}=e,r=(0,l.useRouter)(),[c,i]=(0,s.useState)(t);return(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.p,{placeholder:"Search locations...",value:c,onChange:e=>(e=>{i(e);let t=new URLSearchParams(window.location.search);e?t.set("search",e):t.delete("search"),t.delete("page"),r.push("?".concat(t.toString()))})(e.target.value),className:"pl-10"})]})}},46398:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},46994:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},52056:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},53842:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},60933:(e,t,r)=>{"use strict";r.d(t,{TypeFilter:()=>d});var a=r(95155),s=r(20063),l=r(11186),n=r(66955);function d(e){let{initialValue:t="all"}=e,r=(0,s.useRouter)();return(0,a.jsxs)(l.l6,{value:t,onValueChange:e=>{let t=new URLSearchParams(window.location.search);"all"===e?t.delete("type"):t.set("type",e),t.delete("page"),r.push("?".concat(t.toString()))},children:[(0,a.jsxs)(l.bq,{className:"w-full sm:w-40",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(l.yv,{placeholder:"Type"})]}),(0,a.jsxs)(l.gC,{children:[(0,a.jsx)(l.eb,{value:"all",children:"All Types"}),(0,a.jsx)(l.eb,{value:"Port",children:"Port"}),(0,a.jsx)(l.eb,{value:"Warehouse",children:"Warehouse"}),(0,a.jsx)(l.eb,{value:"Customs Office",children:"Customs Office"}),(0,a.jsx)(l.eb,{value:"Dealership",children:"Dealership"}),(0,a.jsx)(l.eb,{value:"Delivery Point",children:"Delivery Point"})]})]})}},71871:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},72384:(e,t,r)=>{"use strict";r.d(t,{LocationPagination:()=>c});var a=r(95155),s=r(20063),l=r(3998),n=r(90368),d=r(27937);function c(e){let{currentPage:t,totalPages:r}=e,c=(0,s.useRouter)(),i=e=>{let t=new URLSearchParams(window.location.search);t.set("page",e.toString()),c.push("?".concat(t.toString()))};return console.log(t,r),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",r]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>i(Math.max(t-1,1)),disabled:1===t,children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"Previous"]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,r)},(e,r)=>{let s=r+1;return(0,a.jsx)(l.$,{variant:t===s?"default":"outline",size:"sm",onClick:()=>i(s),className:"w-8 h-8 p-0",children:s},s)})}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>i(Math.min(t+1,r)),disabled:t===r,children:["Next",(0,a.jsx)(d.A,{className:"h-4 w-4"})]})]})]})}},80197:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},91169:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},95111:(e,t,r)=>{"use strict";r.d(t,{StatusFilter:()=>d});var a=r(95155),s=r(20063),l=r(11186),n=r(66955);function d(e){let{initialValue:t="all"}=e,r=(0,s.useRouter)();return(0,a.jsxs)(l.l6,{value:t,onValueChange:e=>{let t=new URLSearchParams(window.location.search);"all"===e?t.delete("status"):t.set("status",e),t.delete("page"),r.push("?".concat(t.toString()))},children:[(0,a.jsxs)(l.bq,{className:"w-full sm:w-40",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(l.yv,{placeholder:"Status"})]}),(0,a.jsxs)(l.gC,{children:[(0,a.jsx)(l.eb,{value:"all",children:"All Status"}),(0,a.jsx)(l.eb,{value:"Operational",children:"Operational"}),(0,a.jsx)(l.eb,{value:"Temporarily Closed",children:"Temporarily Closed"}),(0,a.jsx)(l.eb,{value:"Under Maintenance",children:"Under Maintenance"})]})]})}}},e=>{e.O(0,[5239,3637,4127,2673,3437,1691,5485,8441,1255,7358],()=>e(e.s=21256)),_N_E=e.O()}]);