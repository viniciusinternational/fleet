(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5245],{18332:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>i,TN:()=>n});var t=a(95155);a(12115);var r=a(83101),l=a(64269);let c=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,l.cn)(c({variant:a}),s),...r})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,l.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}},42529:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},46994:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},61362:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},68384:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(95155),r=a(12115),l=a(20063),c=a(86948),i=a(3998),n=a(11647),d=a(65142),o=a(76444),m=a(11186),h=a(31120),x=a(18332),u=a(80197),p=a(71871),j=a(46994),g=a(21873),y=a(42529),N=a(35626),v=a(61362),b=a(76561),f=a(20508),C=a(89715),w=a(65229),A=a(46046);let k=()=>{let e=(0,l.useRouter)(),[s,a]=(0,r.useState)({name:"",type:"Port",status:"Operational",street:"",city:"",state:"",country:"Nigeria",postalCode:"",latitude:"",longitude:"",contactName:"",phone:"",email:"",notes:""}),[k,E]=(0,r.useState)({}),[F,S]=(0,r.useState)(!1),[q,J]=(0,r.useState)(!1),M=(e,s)=>{a(a=>({...a,[e]:s})),k[e]&&E(s=>({...s,[e]:""}))},L=async a=>{if(a.preventDefault(),(()=>{let e={};return s.name.trim()||(e.name="Location name is required"),s.street.trim()||(e.street="Street address is required"),s.city.trim()||(e.city="City is required"),s.state.trim()||(e.state="State is required"),s.country.trim()||(e.country="Country is required"),s.contactName.trim()||(e.contactName="Contact name is required"),s.phone.trim()||(e.phone="Phone number is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Please enter a valid email address"):e.email="Email is required",E(e),0===Object.keys(e).length})()){S(!0);try{let a={name:s.name,type:s.type,status:s.status,coordinates:{latitude:parseFloat(s.latitude)||0,longitude:parseFloat(s.longitude)||0},address:{street:s.street,city:s.city,state:s.state,country:s.country,postalCode:s.postalCode},contactDetails:{contactName:s.contactName,phone:s.phone,email:s.email},notes:s.notes},t=await fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create location")}J(!0),setTimeout(()=>{e.push("/admin/locations")},2e3)}catch(e){console.error("Error creating location:",e)}finally{S(!1)}}},O=e=>{switch(e){case"Operational":return"bg-green-100 text-green-700 border-green-200";case"Under Maintenance":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Temporarily Closed":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return q?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)(c.Zp,{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(y.A,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Location Created Successfully!"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"The new location has been added to the system. Redirecting to locations list..."}),(0,t.jsx)(i.$,{onClick:()=>e.push("/admin/locations"),children:"Go to Locations"})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>e.push("/admin/locations"),className:"p-2",children:(0,t.jsx)(N.A,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Add New Location"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Create a new location in the system"})]})]})}),q&&(0,t.jsxs)(x.Fc,{className:"mb-6 border-green-200 bg-green-50",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(x.TN,{className:"text-green-800",children:"Location created successfully! Redirecting to location list..."})]}),(0,t.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"Basic Location Information"]})}),(0,t.jsx)(c.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"Location Name *"}),(0,t.jsx)(d.p,{id:"name",placeholder:"Enter location name",value:s.name,onChange:e=>M("name",e.target.value),className:k.name?"border-red-500":""}),k.name&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"type",children:"Location Type *"}),(0,t.jsxs)(m.l6,{value:s.type,onValueChange:e=>M("type",e),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select location type"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Port",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),"Port"]})}),(0,t.jsx)(m.eb,{value:"Dealership",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),"Dealership"]})}),(0,t.jsx)(m.eb,{value:"Warehouse",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Warehouse"]})}),(0,t.jsx)(m.eb,{value:"Customs Office",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),"Customs Office"]})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"status",children:"Status *"}),(0,t.jsxs)(m.l6,{value:s.status,onValueChange:e=>M("status",e),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select status"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Operational",children:(0,t.jsx)(n.E,{variant:"secondary",className:O("Operational"),children:"Operational"})}),(0,t.jsx)(m.eb,{value:"Under Maintenance",children:(0,t.jsx)(n.E,{variant:"secondary",className:O("Under Maintenance"),children:"Under Maintenance"})}),(0,t.jsx)(m.eb,{value:"Temporarily Closed",children:(0,t.jsx)(n.E,{variant:"secondary",className:O("Temporarily Closed"),children:"Temporarily Closed"})})]})]})]})]})})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-5 w-5"}),"Address Information"]})}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"street",children:"Street Address *"}),(0,t.jsx)(d.p,{id:"street",placeholder:"Enter street address",value:s.street,onChange:e=>M("street",e.target.value),className:k.street?"border-red-500":""}),k.street&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.street})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"city",children:"City *"}),(0,t.jsx)(d.p,{id:"city",placeholder:"Enter city",value:s.city,onChange:e=>M("city",e.target.value),className:k.city?"border-red-500":""}),k.city&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.city})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"state",children:"State/Province *"}),(0,t.jsx)(d.p,{id:"state",placeholder:"Enter state/province",value:s.state,onChange:e=>M("state",e.target.value),className:k.state?"border-red-500":""}),k.state&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.state})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"postalCode",children:"Postal Code"}),(0,t.jsx)(d.p,{id:"postalCode",placeholder:"Enter postal code",value:s.postalCode,onChange:e=>M("postalCode",e.target.value)})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"country",children:"Country *"}),(0,t.jsx)(d.p,{id:"country",placeholder:"Enter country",value:s.country,onChange:e=>M("country",e.target.value),className:k.country?"border-red-500":""}),k.country&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.country})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"latitude",children:"Latitude"}),(0,t.jsx)(d.p,{id:"latitude",placeholder:"Enter latitude",value:s.latitude,onChange:e=>M("latitude",e.target.value),type:"number",step:"any"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"longitude",children:"Longitude"}),(0,t.jsx)(d.p,{id:"longitude",placeholder:"Enter longitude",value:s.longitude,onChange:e=>M("longitude",e.target.value),type:"number",step:"any"})]})]})]})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-5 w-5"}),"Contact Information"]})}),(0,t.jsx)(c.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"contactName",children:"Contact Name *"}),(0,t.jsx)(d.p,{id:"contactName",placeholder:"Enter contact name",value:s.contactName,onChange:e=>M("contactName",e.target.value),className:k.contactName?"border-red-500":""}),k.contactName&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.contactName})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"phone",children:"Phone Number *"}),(0,t.jsx)(d.p,{id:"phone",placeholder:"Enter phone number",value:s.phone,onChange:e=>M("phone",e.target.value),className:k.phone?"border-red-500":""}),k.phone&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.phone})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email Address *"}),(0,t.jsx)(d.p,{id:"email",type:"email",placeholder:"Enter email address",value:s.email,onChange:e=>M("email",e.target.value),className:k.email?"border-red-500":""}),k.email&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:k.email})]})]})})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"Additional Information"]})}),(0,t.jsx)(c.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"notes",children:"Additional Notes"}),(0,t.jsx)(h.T,{id:"notes",placeholder:"Enter any additional notes about this location...",value:s.notes,onChange:e=>M("notes",e.target.value),rows:4})]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[(0,t.jsxs)(i.$,{type:"button",variant:"outline",onClick:()=>e.push("/admin/locations"),disabled:F,children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,t.jsx)(i.$,{type:"submit",disabled:F,className:"min-w-[120px]",children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Create Location"]})})]})]})]})})}},80197:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},95781:(e,s,a)=>{Promise.resolve().then(a.bind(a,68384))}},e=>{e.O(0,[5239,3637,4127,2673,3437,7758,8441,1255,7358],()=>e(e.s=95781)),_N_E=e.O()}]);