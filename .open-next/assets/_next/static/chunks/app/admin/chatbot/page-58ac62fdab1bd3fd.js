(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1010],{3998:(e,s,r)=>{"use strict";r.d(s,{$:()=>o});var t=r(95155);r(12115);var a=r(32467),n=r(83101),l=r(64269);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:r,size:n,asChild:o=!1,...d}=e,c=o?a.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:r,size:n,className:s})),...d})}},34249:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(95155),a=r(12115);let n=(0,r(25959).v)((e,s)=>({isOpen:!1,messages:[],isLoading:!1,toggleChat:()=>e(e=>({isOpen:!e.isOpen})),openChat:()=>e({isOpen:!0}),closeChat:()=>e({isOpen:!1}),addMessage:s=>e(e=>({messages:[...e.messages,s]})),setLoading:s=>e({isLoading:s}),clearMessages:()=>e({messages:[]}),sendMessage:async e=>{let{addMessage:r,setLoading:t}=s();r({id:"user-".concat(Date.now()),role:"user",content:e,timestamp:new Date}),t(!0);try{let s=await fetch("/api/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})}),t=await s.json();if(!t.success)throw Error(t.error||"Failed to get response");let a={id:"ai-".concat(Date.now()),role:"assistant",content:t.message,timestamp:new Date};r(a)}catch(e){console.error("Error sending message:",e),r({id:"error-".concat(Date.now()),role:"assistant",content:"Sorry, I encountered an error: ".concat(e instanceof Error?e.message:"Unknown error",". Please try again."),timestamp:new Date})}finally{t(!1)}}}));var l=r(64269),i=r(20508),o=r(78192),d=r(6504),c=r(22133);function x(e){let{message:s}=e,r="user"===s.role;return(0,t.jsxs)("div",{className:(0,l.cn)("flex gap-3 mb-6",r?"flex-row-reverse":"flex-row"),children:[(0,t.jsx)("div",{className:(0,l.cn)("flex-shrink-0 w-9 h-9 rounded-lg flex items-center justify-center shadow-sm",r?"bg-primary":"bg-card border border-border"),children:r?(0,t.jsx)(i.A,{className:"w-5 h-5 text-primary-foreground"}):(0,t.jsx)(o.A,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{className:(0,l.cn)("flex-1 max-w-[85%]",r?"items-end":"items-start"),children:[(0,t.jsx)("div",{className:(0,l.cn)("rounded-lg px-4 py-3 shadow-sm",r?"bg-primary text-primary-foreground":"bg-card border border-border text-card-foreground"),children:r?(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:s.content}):(0,t.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:(0,t.jsx)(d.oz,{remarkPlugins:[c.A],components:{table:e=>{let{node:s,...r}=e;return(0,t.jsx)("div",{className:"overflow-x-auto my-3 rounded-md border border-border",children:(0,t.jsx)("table",{className:"min-w-full divide-y divide-border text-xs",...r})})},thead:e=>{let{node:s,...r}=e;return(0,t.jsx)("thead",{className:"bg-muted/50",...r})},th:e=>{let{node:s,...r}=e;return(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-foreground",...r})},td:e=>{let{node:s,...r}=e;return(0,t.jsx)("td",{className:"px-3 py-2 border-t border-border text-muted-foreground",...r})},p:e=>{let{node:s,...r}=e;return(0,t.jsx)("p",{className:"mb-2 last:mb-0 leading-relaxed",...r})},ul:e=>{let{node:s,...r}=e;return(0,t.jsx)("ul",{className:"list-disc list-inside mb-2 space-y-1",...r})},ol:e=>{let{node:s,...r}=e;return(0,t.jsx)("ol",{className:"list-decimal list-inside mb-2 space-y-1",...r})},strong:e=>{let{node:s,...r}=e;return(0,t.jsx)("strong",{className:"font-semibold text-foreground",...r})},code:e=>{let{node:s,inline:r,...a}=e;return r?(0,t.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",...a}):(0,t.jsx)("code",{className:"block bg-muted p-3 rounded-md text-xs font-mono overflow-x-auto my-2",...a})}},children:s.content})})}),(0,t.jsx)("p",{className:(0,l.cn)("text-xs text-muted-foreground mt-1.5 px-1",r?"text-right":"text-left"),children:new Date(s.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}var m=r(3998),u=r(65142),h=r(95740),f=r(71360),p=r(35299),g=r(18085),v=r(86948);function b(){let{messages:e,isLoading:s,sendMessage:r,clearMessages:l}=n(),[i,o]=(0,a.useState)(""),d=(0,a.useRef)(null),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[e]),(0,a.useEffect)(()=>{c.current&&c.current.focus()},[]);let b=async e=>{if(e.preventDefault(),!i.trim()||s)return;let t=i.trim();o(""),await r(t)};return(0,t.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)] max-w-7xl mx-auto p-6 gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10",children:(0,t.jsx)(h.A,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Fleet AI Assistant"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-1",children:[(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Online and ready to help"]})]})]}),e.length>0&&(0,t.jsxs)(m.$,{variant:"outline",onClick:()=>{confirm("Are you sure you want to clear all messages?")&&l()},className:"gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Clear History"]})]}),(0,t.jsx)(v.Zp,{className:"flex-1 flex flex-col overflow-hidden",children:(0,t.jsxs)(v.Wu,{className:"flex-1 flex flex-col p-0",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6 bg-muted/30",children:0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-primary/10 rounded-2xl flex items-center justify-center mb-6 shadow-sm",children:(0,t.jsx)("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),(0,t.jsx)("h3",{className:"text-2xl font-semibold mb-3 text-foreground",children:"Welcome to Fleet AI"}),(0,t.jsx)("p",{className:"text-base text-muted-foreground mb-8 max-w-2xl",children:"Ask me anything about your vehicles, owners, or locations. I have access to your complete fleet data and can help you find information quickly."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-3xl",children:[(0,t.jsx)(v.Zp,{className:"text-left hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{var e;o("Show me all vehicles in transit"),null==(e=c.current)||e.focus()},children:(0,t.jsxs)(v.aR,{className:"pb-3",children:[(0,t.jsxs)(v.ZB,{className:"text-sm font-semibold flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),(0,t.jsx)("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})]}),"Vehicle Status"]}),(0,t.jsx)(v.BT,{className:"text-xs",children:'"Show me all vehicles in transit"'})]})}),(0,t.jsx)(v.Zp,{className:"text-left hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{var e;o("Which owners have the most vehicles?"),null==(e=c.current)||e.focus()},children:(0,t.jsxs)(v.aR,{className:"pb-3",children:[(0,t.jsxs)(v.ZB,{className:"text-sm font-semibold flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Owner Analysis"]}),(0,t.jsx)(v.BT,{className:"text-xs",children:'"Which owners have the most vehicles?"'})]})}),(0,t.jsx)(v.Zp,{className:"text-left hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{var e;o("List all operational locations"),null==(e=c.current)||e.focus()},children:(0,t.jsxs)(v.aR,{className:"pb-3",children:[(0,t.jsxs)(v.ZB,{className:"text-sm font-semibold flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Location Info"]}),(0,t.jsx)(v.BT,{className:"text-xs",children:'"List all operational locations"'})]})}),(0,t.jsx)(v.Zp,{className:"text-left hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{var e;o("What vehicles are clearing customs?"),null==(e=c.current)||e.focus()},children:(0,t.jsxs)(v.aR,{className:"pb-3",children:[(0,t.jsxs)(v.ZB,{className:"text-sm font-semibold flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Customs Status"]}),(0,t.jsx)(v.BT,{className:"text-xs",children:'"What vehicles are clearing customs?"'})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[e.map(e=>(0,t.jsx)(x,{message:e},e.id)),s&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground mb-4 bg-card border border-border rounded-lg px-4 py-3 shadow-sm",children:[(0,t.jsx)(p.A,{className:"w-5 h-5 animate-spin text-primary"}),(0,t.jsx)("span",{className:"text-sm",children:"AI is analyzing your data..."})]}),(0,t.jsx)("div",{ref:d})]})}),(0,t.jsxs)("div",{className:"border-t border-border p-6 bg-card",children:[(0,t.jsxs)("form",{onSubmit:b,className:"flex gap-3",children:[(0,t.jsx)(u.p,{ref:c,value:i,onChange:e=>o(e.target.value),placeholder:"Ask about vehicles, owners, or locations...",disabled:s,className:"flex-1 bg-background h-12 text-base"}),(0,t.jsx)(m.$,{type:"submit",disabled:!i.trim()||s,size:"lg",className:"px-6 gap-2",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-5 w-5 animate-spin"}),"Sending"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"Send"]})})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-3 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"AI responses may not always be accurate. Verify critical information."]})]})]})})]})}},64269:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(2821),a=r(75889);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},64594:(e,s,r)=>{Promise.resolve().then(r.bind(r,34249))},65142:(e,s,r)=>{"use strict";r.d(s,{p:()=>n});var t=r(95155);r(12115);var a=r(64269);function n(e){let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},86948:(e,s,r)=>{"use strict";r.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l});var t=r(95155);r(12115);var a=r(64269);function n(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function l(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function i(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...r})}function o(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...r})}function d(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...r})}}},e=>{e.O(0,[5239,1998,8441,1255,7358],()=>e(e.s=64594)),_N_E=e.O()}]);